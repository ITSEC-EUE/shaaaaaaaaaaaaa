#!/usr/bin/env node

/*
* Check a domain name for what SHA algorithm it uses.
*
* Usage: shaaaaaaaaaaaaa domain.com
*/

var shaaaaa = require("../shaaaaa");

var run = function(domain, options) {
  if (!domain) {
    console.log("Usage: shaaaaaaaaaaaaa domain.com")
    process.exit(1);
  }

  shaaaaa.from(domain, function(err, data) {
    if (err) {
      console.error(err);
      process.exit(1);
    }

    var output = data;
    if (!options.compact)
      output = JSON.stringify(data, null, 2);

    console.log(output);
    process.exit(0);
  }, options);

}

var options = require('minimist')(process.argv.slice(2));
// console.log(options);
run(options._[0], options);
